<!DOCTYPE html>
<html lang="en" class="theme-cartoon">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ToonBlog</title>
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <!-- Fonts: Fredoka (Cartoon), Noto Serif SC (Chinese) -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* --- CSS Variables Strategy --- */
    :root {
      --transition-speed: 0.3s;
    }

    /* 1. CARTOON THEME (Default) */
    .theme-cartoon {
      --font-main: 'Fredoka', sans-serif;
      --color-bg-page: #FFF8E1;
      --color-bg-card: #FFFFFF;

      /* Semantics mapped to old 'toon' names */
      --color-primary: #FFD93D;   /* toon-yellow */
      --color-secondary: #6BCB77; /* toon-blue (mapped to green in UI) */
      --color-accent: #FF6B6B;    /* toon-red */
      --color-purple: #9D4EDD;    /* toon-purple */
      --color-border: #000000;
      --color-text: #1a1a1a;
      --color-text-on-brand: #000000; /* Black text on bright buttons */

      --border-width: 4px;
      --radius: 0.75rem; /* rounded-xl */

      /* Hard Shadow */
      --shadow-normal: 4px 4px 0px 0px #000000;
      --shadow-hover: 2px 2px 0px 0px #000000;

      /* Background Pattern */
      --bg-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' opacity='0.07'%3E%3Cpath d='M20 20 C20 10 40 10 40 20 V45 L35 40 L30 45 L25 40 L20 45 Z' /%3E%3Ccircle cx='26' cy='25' r='2' fill='%23000' /%3E%3Ccircle cx='34' cy='25' r='2' fill='%23000' /%3E%3Ccircle cx='70' cy='70' r='15' /%3E%3Cpath d='M65 72 Q70 78 75 72' /%3E%3Ccircle cx='66' cy='66' r='2' fill='%23000' /%3E%3Ccircle cx='74' cy='66' r='2' fill='%23000' /%3E%3Cpath d='M75 15 L78 22 L86 22 L80 28 L82 36 L75 31 L68 36 L70 28 L64 22 L72 22 Z' /%3E%3Cpath d='M15 70 L25 80 M25 70 L15 80' /%3E%3Ccircle cx='45' cy='50' r='3' /%3E%3C/g%3E%3C/svg%3E");
    }

    /* 2. MINIMALIST THEME */
    .theme-minimalist {
      --font-main: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      --color-bg-page: #FFFFFF;
      --color-bg-card: #FAFAFA;

      --color-primary: #000000;   /* Pure Black */
      --color-secondary: #505050; /* Dark Gray */
      --color-accent: #808080;    /* Medium Gray */
      --color-purple: #606060;    /* Gray Purple */
      --color-border: #E0E0E0;    /* Light Gray Border */
      --color-text: #1a1a1a;
      --color-text-on-brand: #FFFFFF; /* White text on black buttons */

      --border-width: 1px;
      --radius: 4px; /* Subtle rounded corners */

      /* Subtle Shadow */
      --shadow-normal: 0px 1px 3px 0px rgba(0, 0, 0, 0.1);
      --shadow-hover: 0px 4px 12px 0px rgba(0, 0, 0, 0.15);

      /* Clean Background - No Pattern */
      --bg-image: none;
    }

    /* 3. CHINESE STYLE (Gufeng) */
    .theme-chinese {
      --font-main: 'Noto Serif SC', serif;
      --color-bg-page: #F3F3E7;   /* Rice Paper */
      --color-bg-card: #FCFAF2;

      --color-primary: #E8C3B9;   /* Pale Blush */
      --color-secondary: #8E9E82; /* Bamboo Green */
      --color-accent: #BF242A;    /* Cinnabar Red */
      --color-purple: #5D513C;    /* Ink Dark Brown */
      --color-border: #5D513C;    /* Ink Border */
      --color-text: #2B2B2B;      /* Ink Black */
      --color-text-on-brand: #2B2B2B; /* Ink text on pale backgrounds */

      --border-width: 1px;
      --radius: 4px;

      /* Soft Ink Spread Shadow */
      --shadow-normal: 4px 4px 15px -4px rgba(43, 43, 43, 0.3);
      --shadow-hover: 2px 2px 8px -2px rgba(43, 43, 43, 0.4);

      /* Mountains / Ink Texture (Simplified) */
      --bg-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
    }

    body {
      background-color: var(--color-bg-page);
      background-image: var(--bg-image);
      background-size: var(--bg-size, auto);
      color: var(--color-text);
      font-family: var(--font-main),serif;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    /* üé® Custom Scrollbar Styles for Enhanced Toolbox */
    .scrollbar-thin::-webkit-scrollbar {
      width: 6px;
    }
    .scrollbar-thin::-webkit-scrollbar-track {
      background: transparent;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: #D1D5DB;
      border-radius: 9999px;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
      background-color: #9CA3AF;
    }
    /* Firefox */
    .scrollbar-thin {
      scrollbar-width: thin;
      scrollbar-color: #D1D5DB transparent;
    }

    /* üéµ Range Input Styling for Volume Control */
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      height: 8px;
      border-radius: 9999px;
      outline: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      background: #000000;
      border: 2px solid #FFD93D;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.2);
    }
    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      background: #000000;
      border: 2px solid #FFD93D;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    input[type="range"]::-moz-range-thumb:hover {
      transform: scale(1.2);
    }

    /* üé® Global Scrollbar Styling - Cartoon Style */
    /* Webkit browsers (Chrome, Safari, Edge) */
    ::-webkit-scrollbar {
      width: 12px;
      height: 12px;
    }

    ::-webkit-scrollbar-track {
      background: #FFF8E1;
      border-left: 2px solid #000000;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #4A4A4A 0%, #2A2A2A 100%);
      border: 2px solid #000000;
      border-radius: 0;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #5A5A5A 0%, #3A3A3A 100%);
      border-width: 3px;
    }

    ::-webkit-scrollbar-thumb:active {
      background: #1A1A1A;
    }

    /* Firefox */
    * {
      scrollbar-width: thin;
      scrollbar-color: #4A4A4A #FFF8E1;
    }

    /* Âç°ÈÄöÈ£éÊ†ºÊªöÂä®Êù°ËßíËêΩ */
    ::-webkit-scrollbar-corner {
      background: #FFF8E1;
      border: 2px solid #000000;
    }
  </style>

  <script>
    tailwind.config = {
      darkMode: 'class', // We handle theme via classes manually
      theme: {
        extend: {
          fontFamily: {
            sans: ['var(--font-main)', 'sans-serif'],
            serif: ['Noto Serif SC', 'serif'],
          },
          colors: {
            'toon-yellow': 'var(--color-primary)',
            'toon-blue': 'var(--color-secondary)',
            'toon-red': 'var(--color-accent)',
            'toon-purple': 'var(--color-purple)',
            'toon-bg': 'var(--color-bg-page)',
            // Add generic mappings for white/black to adapt to themes
            'white': 'var(--color-bg-card)',
            'black': 'var(--color-border)',
            'gray-900': 'var(--color-text)',
            'toon-ink': 'var(--color-text-on-brand)', // New explicit ink color for colored backgrounds
          },
          borderWidth: {
            '2': 'calc(var(--border-width) * 0.5)',
            '3': '3px', // ‚ú® Added for enhanced toolbox
            '4': 'var(--border-width)',
          },
          borderRadius: {
            'xl': 'var(--radius)',
            'lg': 'calc(var(--radius) * 0.75)',
            '2xl': 'calc(var(--radius) * 1.5)',
            '3xl': 'calc(var(--radius) * 2)', // ‚ú® Added for enhanced toolbox
          },
          boxShadow: {
            'toon': 'var(--shadow-normal)',
            'toon-sm': '2px 2px 0px 0px rgba(0,0,0,1)', // ‚ú® Added for enhanced toolbox
            'toon-lg': '8px 8px 0px 0px rgba(0,0,0,1)', // ‚ú® Added for enhanced toolbox
            'toon-hover': 'var(--shadow-hover)',
          },
          animation: {
            'pop-in': 'pop-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)',
            'fade-in': 'fadeIn 0.2s ease-out', // ‚ú® Added for enhanced toolbox
            'bounce-slow': 'bounce 2s infinite', // ‚ú® Added for enhanced toolbox
            'wiggle': 'wiggle 1s ease-in-out infinite', // ‚ú® Added for enhanced toolbox
            'slide-in-from-bottom-10': 'slideInFromBottom 0.3s ease-out', // ‚ú® Added
            'slide-in-from-bottom-2': 'slideInFromBottom2 0.2s ease-out', // ‚ú® Added
          },
          keyframes: {
            'pop-in': {
              '0%': { transform: 'scale(0.95) translateY(10px)', opacity: '0' },
              '100%': { transform: 'scale(1) translateY(0)', opacity: '1' },
            },
            'fadeIn': { // ‚ú® Added for enhanced toolbox
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            'wiggle': { // ‚ú® Added for enhanced toolbox
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            },
            'slideInFromBottom': { // ‚ú® Added for enhanced toolbox
              '0%': { transform: 'translateY(40px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
            'slideInFromBottom2': { // ‚ú® Added for enhanced toolbox
              '0%': { transform: 'translateY(8px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
          },
          // ‚ú® Added responsive breakpoint for enhanced toolbox
          screens: {
            'xs': '475px',
          },
        }
      }
    }
  </script>
  <script type="importmap">
    {
      "imports": {
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
        "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
        "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.9.6",
        "react-markdown": "https://aistudiocdn.com/react-markdown@^10.1.0",
        "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.1",
        "vite": "https://aistudiocdn.com/vite@^7.2.4"
      }
    }
  </script>
  <link rel="stylesheet" href="/index.css">
</head>
<body>
<div id="root"></div>
<script type="module" src="/index.tsx"></script>
</body>
</html>
